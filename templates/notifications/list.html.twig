{% extends 'base.html.twig' %}

{% block title %}–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è{% endblock %}

{% block body %}
    <div class="container mt-4">
        <h1>üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h1>

        {% if unreadBlogs|length > 0 %}
            <div class="list-group mt-3">
                {% for item in unreadBlogs %}
                    <a href="{{ path('blog_show', {'id': item.blog.id}) }}" class="list-group-item list-group-item-action">
                        <div class="d-flex w-100 justify-content-between">
                            <h5 class="mb-1">
                                {{ item.blog.title }}
                                {% if item.blog.status == 'private' %}
                                    <span class="badge bg-secondary">üîí –ó–∞–∫—Ä—ã—Ç—ã–π</span>
                                {% else %}
                                    <span class="badge bg-success">üåê –û–±—â–∏–π</span>
                                {% endif %}
                            </h5>
                            <small class="text-muted">{{ item.blog.createdAt|date('d.m.Y') }}</small>
                        </div>
                        <p class="mb-1">
                            {% if item.reason == 'new_blog' %}
                                <span class="badge bg-primary">–ù–æ–≤—ã–π –±–ª–æ–≥</span>
                            {% else %}
                                <span class="badge bg-info">
                                    {% if item.newPostsCount == 1 %}
                                        1 –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å
                                    {% elseif item.newPostsCount < 5 %}
                                        {{ item.newPostsCount }} –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏
                                    {% else %}
                                        {{ item.newPostsCount }} –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π
                                    {% endif %}
                                </span>
                            {% endif %}
                        </p>
                        <small>–ê–≤—Ç–æ—Ä: {{ item.blog.author.username }}</small>
                    </a>
                {% endfor %}
            </div>
        {% else %}
            <div class="alert alert-info mt-3">
                <p class="mb-0">üì≠ –£ –≤–∞—Å –Ω–µ—Ç –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>
            </div>
        {% endif %}

        <a href="{{ path('blog_list') }}" class="btn btn-secondary mt-3">–ù–∞–∑–∞–¥ –∫ –±–ª–æ–≥–∞–º</a>
    </div>
{% endblock %}